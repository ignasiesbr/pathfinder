(this.webpackJsonppathfinder=this.webpackJsonppathfinder||[]).push([[0],{18:function(e,t,a){e.exports=a(35)},23:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(8),s=a.n(i),l=(a(23),a(6)),u=a.n(l),c=a(14),o=a(4),d=a(2),h=a(3),g=function(e,t){var a=-1,r=0,n=!0,i=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){if(l.value[0]===t){a=r;break}r++}}catch(c){i=!0,s=c}finally{try{n||null==u.return||u.return()}finally{if(i)throw s}}return a},f=function(){function e(t){Object(d.a)(this,e),this.value=t,this.adjacents=[],this.pred=null,this.distance=Number.MAX_SAFE_INTEGER,this.g=0,this.f=0,this.h=0}return Object(h.a)(e,[{key:"addAdjacent",value:function(e,t){this.adjacents.push([e,t])}},{key:"setPred",value:function(e){this.pred=e}},{key:"getPred",value:function(){return this.pred}},{key:"removeAdjacent",value:function(e){var t=g(this.adjacents,e);if(t>-1)return this.adjacents.splice(t,1),e}},{key:"getAdjacents",value:function(){return this.adjacents.map((function(e){return e[0]}))}},{key:"getWeight",value:function(e){var t=g(this.adjacents,e);return this.adjacents[t][1]}},{key:"setWeight",value:function(e,t){var a=g(this.adjacents,e);this.adjacents[a][1]=t}},{key:"isAdjacent",value:function(e){return g(this.adjacents,e)>-1}},{key:"getValue",value:function(){return this.value}},{key:"getDistance",value:function(){return this.distance}},{key:"setDistance",value:function(e){this.distance=e}}]),e}(),p=function(){function e(){Object(d.a)(this,e),this.queue=[]}return Object(h.a)(e,[{key:"add",value:function(e){this.queue.push(e)}},{key:"remove",value:function(){return this.queue.shift()}},{key:"isEmpty",value:function(){return 0===this.queue.length}}]),e}(),v=function(){function e(){Object(d.a)(this,e),this.stack=[]}return Object(h.a)(e,[{key:"push",value:function(e){this.stack.push(e)}},{key:"pop",value:function(){return this.stack.pop()}},{key:"isEmpty",value:function(){return 0===this.stack.length}}]),e}(),y=function(){function e(){Object(d.a)(this,e),this.heapArray=[[0,0]],this.currentSize=0}return Object(h.a)(e,[{key:"printHeap",value:function(){console.log(this.heapArray)}},{key:"percDown",value:function(e){for(;2*e<=this.currentSize;){var t=this.minChild(e);if(this.heapArray[e][0]>this.heapArray[t][0]){var a=this.heapArray[e];this.heapArray[e]=this.heapArray[t],this.heapArray[t]=a}e=t}}},{key:"minChild",value:function(e){return 2*e>this.currentSize?-1:2*e+1>this.currentSize?2*e:this.heapArray[2*e][0]<this.heapArray[2*e+1][0]?2*e:2*e+1}},{key:"percUp",value:function(e){for(;Math.floor(e/2)>0;){if(this.heapArray[e][0]<this.heapArray[Math.floor(e/2)][0]){var t=this.heapArray[Math.floor(e/2)];this.heapArray[Math.floor(e/2)]=this.heapArray[e],this.heapArray[e]=t}e=Math.floor(e/2)}}},{key:"add",value:function(e){this.heapArray.push(e),this.currentSize+=1,this.percUp(this.currentSize)}},{key:"delMin",value:function(){var e=this.heapArray[1][1];return this.heapArray[1]=this.heapArray[this.currentSize],this.currentSize=this.currentSize-1,this.heapArray.pop(),this.percDown(1),e}},{key:"isEmpty",value:function(){return 0===this.currentSize}},{key:"decreaseKey",value:function(e,t){for(var a=!1,r=1,n=0;!a&&r<=this.currentSize;)this.heapArray[r][1].getValue()===e.getValue()?(a=!0,n=r):r+=1;n>0&&(this.heapArray[n]=[t,this.heapArray[n][1]],this.percUp(n))}}]),e}(),m=function e(t,a){return t<46?a:e(t-46,a+1)},E=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DIRECTED;Object(d.a)(this,e),this.nodes=new Map,this.edgeDirection=t}return Object(h.a)(e,[{key:"addEdge",value:function(t,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=this.addVertex(t),i=this.addVertex(a);return n.addAdjacent(i,r),this.edgeDirection===e.UNDIRECTED&&i.addAdjacent(n,r),[n,i]}},{key:"addVertex",value:function(e){if(this.nodes.has(e))return this.nodes.get(e);var t=new f(e);return this.nodes.set(e,t),t}},{key:"removeVertex",value:function(e){var t=this.nodes.get(e);if(t){var a=!0,r=!1,n=void 0;try{for(var i,s=this.nodes.values()[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){i.value.removeAdjacent(t)}}catch(l){r=!0,n=l}finally{try{a||null==s.return||s.return()}finally{if(r)throw n}}}return this.nodes.delete(e)}},{key:"removeEdge",value:function(t,a){var r=this.nodes.get(t),n=this.nodes.get(a);return r&&n&&(r.removeAdjacent(n),this.edgeDirection===e.UNDIRECTED&&n.removeAdjacent(r)),[r,n]}},{key:"printConnections",value:function(){var e=!0,t=!1,a=void 0;try{for(var r,n=function(){var e=r.value,t=e[1].getValue();e[1].getAdjacents().forEach((function(a){return console.log("( ".concat(t," , ").concat(a.getValue(),", weight: ").concat(e[1].getWeight(a),", dist: ").concat(e[1].getDistance()," )"))}))},i=this.nodes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0)n()}catch(s){t=!0,a=s}finally{try{e||null==i.return||i.return()}finally{if(t)throw a}}}},{key:"getConnections",value:function(){var e="",t=!0,a=!1,r=void 0;try{for(var n,i=function(){var t=n.value,a=t[1].getValue();t[1].getAdjacents().forEach((function(r){return e=e+"( ".concat(a," , ").concat(r.getValue()," , ").concat(t[1].getWeight(r)," )")+"\n"}))},s=this.nodes[Symbol.iterator]();!(t=(n=s.next()).done);t=!0)i()}catch(l){a=!0,r=l}finally{try{t||null==s.return||s.return()}finally{if(a)throw r}}return e}},{key:"getVertex",value:function(e){return this.nodes.get(e)}},{key:"bfs",value:u.a.mark((function e(t){var a,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new Map,(r=new p).add(t);case 3:if(r.isEmpty()){e.next=12;break}if(!(n=r.remove())||a.has(n)){e.next=10;break}return e.next=8,n;case 8:a.set(n),n.getAdjacents().forEach((function(e){return r.add(e)}));case 10:e.next=3;break;case 12:case"end":return e.stop()}}),e)}))},{key:"dfs",value:u.a.mark((function e(t){var a,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new Map,(r=new v).add(t);case 3:if(r.isEmpty()){e.next=12;break}if(!(n=r.remove())||a.has(n)){e.next=10;break}return e.next=8,n;case 8:a.set(n),n.getAdjacents().forEach((function(e){return r.add(e)}));case 10:e.next=3;break;case 12:case"end":return e.stop()}}),e)}))},{key:"bfs2",value:function(e){console.log("running bfs");var t=new Map,a=new p;this.setToInfinity(),a.add(e);for(var r=[],n=function(){var e=a.remove();e&&!t.has(e)&&(r.push(e.value),t.set(e),e.getAdjacents().forEach((function(t){a.add(t),t.getPred()||t.setPred(e)})))};!a.isEmpty();)n();return r}},{key:"dfs2",value:function(e){console.log("running dfs");var t=new Map,a=new v;this.setToInfinity(),a.push(e);for(var r=[],n=function(){var e=a.pop();e&&!t.has(e)&&(r.push(e.value),t.set(e),e.getAdjacents().forEach((function(t){a.push(t),t.getPred()||t.setPred(e)})))};!a.isEmpty();)n();return r}},{key:"setToInfinity",value:function(e){var t=new Map,a=new v;for(a.push(e);!a.isEmpty();){var r=a.pop();r&&!t.has(r)&&(t.set(r),r.setDistance(Number.MAX_SAFE_INTEGER),r.setPred(null),r.getAdjacents().forEach((function(e){return a.push(e)})))}}},{key:"dijkstra",value:function(e){console.log("running dijkstra"),D.setToInfinity(e);var t=[e],a=new y;e.setDistance(0);var r=!0,n=!1,i=void 0;try{for(var s,l=this.nodes[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;a.add([u[1].getDistance(),u[1]])}}catch(m){n=!0,i=m}finally{try{r||null==l.return||l.return()}finally{if(n)throw i}}for(;!a.isEmpty();){var c=a.delMin(),o=!0,d=!1,h=void 0;try{for(var g,f=c.getAdjacents()[Symbol.iterator]();!(o=(g=f.next()).done);o=!0){var p=g.value,v=c.getDistance()+c.getWeight(p);v<=p.getDistance()&&(p.setDistance(v),t.push(p),a.decreaseKey(p,v),p.setPred(c))}}catch(m){d=!0,h=m}finally{try{o||null==f.return||f.return()}finally{if(d)throw h}}}return t.map((function(e){return e.getValue()}))}},{key:"a_star",value:function(e,t){console.log("running a * ");var a=[],r=[],n=[e.getValue()];e.g=e.h=e.f=0,t.g=t.h=t.f=0;var i=t.getValue()%46,s=m(t.getValue(),0);for(a.push(e);a.length>0;){var l=a[0],u=0,c=0,o=!0,d=!1,h=void 0;try{for(var g,f=a[Symbol.iterator]();!(o=(g=f.next()).done);o=!0){var p=g.value;p.f<l.f&&(l=p,u=c),c++}}catch(V){d=!0,h=V}finally{try{o||null==f.return||f.return()}finally{if(d)throw h}}if(a=a.slice(0,u).concat(a.slice(u+1)),r.push(l),l.getValue()===t.getValue()){var v=[],y=l;for(e.setPred(null);y;)v.push(y.getValue()),y=y.getPred();return[v.reverse(),n]}var E=!0,A=!1,D=void 0;try{for(var b,k=function(){var e=b.value;if(n.push(e.getValue()),0===r.filter((function(t){return e.getValue()===t.getValue()})).length){e.g=l.getWeight(e)+l.g;var t=e.getValue()%46,u=m(e.getValue(),0);e.h=Math.pow(t-i,2)+Math.pow(u-s,2),e.f=e.h+e.g;var c=!0,o=!0,d=!1,h=void 0;try{for(var g,f=a[Symbol.iterator]();!(o=(g=f.next()).done);o=!0){var p=g.value;e.getValue()===p.getValue()&&e.g>=p.g&&(c=!1)}}catch(V){d=!0,h=V}finally{try{o||null==f.return||f.return()}finally{if(d)throw h}}c&&(e.setPred(l),a.push(e))}},j=l.getAdjacents()[Symbol.iterator]();!(E=(b=j.next()).done);E=!0)k()}catch(V){A=!0,D=V}finally{try{E||null==j.return||j.return()}finally{if(A)throw D}}}}},{key:"getAlgo",value:function(e){return[this.bfs2,this.dfs2,this.dijkstra,this.a_star][e]}}]),e}();E.UNDIRECTED=Symbol("undirected graph"),E.DIRECTED=Symbol("directed graph");var A=E,D=new E(E.UNDIRECTED),b=function(e,t){(t+1)%46!==0?(e.addEdge(t,t+1),t+46<505&&e.addEdge(t,t+46)):t+46<=505&&e.addEdge(t,t+46)},k=function(e,t,a){var r=e.getVertex(t),n=e.getVertex(t-46),i=e.edgeDirection===A.UNDIRECTED;t>46&&n&&(r.setWeight(n,a),i&&n.setWeight(r,a)),n=e.getVertex(t+1),(t+1)%46!==0&&n&&(r.setWeight(n,a),i&&n.setWeight(r,a)),n=e.getVertex(t+46),t+46<=506&&n&&(r.setWeight(n,a),i&&n.setWeight(r,a)),n=e.getVertex(t-1),t%46!==0&&e.getVertex(t-1)&&(r.setWeight(n,a),i&&n.setWeight(r,a))},j=function(){for(var e=new A(A.UNDIRECTED),t=0;t<506;t++)b(e,t);return e},V=a(10),w=function(){return new Array(506).fill(0)},S={selectedAlgorithm:2,visitPath:[],foundPath:[],grid:w(),start:"243",end:"262",isDragging:!1,addingWall:!1,latestDrag:null,itemDragging:null,graphChange:{type:"",value:""}};console.log(Math.floor(5.5)+46*Math.floor(11.5),3*Math.floor(5.5)+46*Math.floor(11.5));var W=Object(V.b)({name:"algo",initialState:S,reducers:{setStart:{reducer:function(e,t){e.start=t.payload.start},prepare:function(e){return{payload:{start:e}}}},setEnd:{reducer:function(e,t){e.end=t.payload.end},prepare:function(e){return{payload:{end:e}}}},setGrid:{reducer:function(e,t){e.grid[t.payload.index]=t.payload.value},prepare:function(e,t){return{payload:{index:e,value:t}}}},clearGrid:function(e){e.grid=w()},setSelected:{reducer:function(e,t){e.selectedAlgorithm=t.payload.value},prepare:function(e){return{payload:{value:e}}}},setVisitPath:{reducer:function(e,t){e.visitPath=t.payload.visitPath},prepare:function(e){return{payload:{visitPath:e}}}},setFoundPath:function(e,t){e.foundPath=t.payload.foundPath},setDragging:{reducer:function(e,t){e.isDragging=t.payload.isDragging},prepare:function(e){return{payload:{isDragging:e}}}},setAddingWall:{reducer:function(e,t){e.addingWall=t.payload.isAdding},prepare:function(e){return{payload:{isAdding:e}}}},setLatestDrag:{reducer:function(e,t){e.latestDrag=t.payload.latest},prepare:function(e){return{payload:{latest:e}}}},setItemDragging:{reducer:function(e,t){e.itemDragging=t.payload.item},prepare:function(e){return{payload:{item:e}}}},setGraphChange:{reducer:function(e,t){e.graphChange={type:t.payload.type,value:t.payload.value}},prepare:function(e){return{payload:{type:e.type,value:e.value}}}}}}),x=W.actions,I=x.setStart,O=x.setEnd,N=x.setGrid,T=x.setSelected,P=x.setVisitPath,C=(x.setFoundPath,x.clearGrid),R=x.setDragging,_=x.setAddingWall,M=x.setLatestDrag,G=x.setItemDragging,L=x.setGraphChange,z=W.reducer,U=function(e){return 1===e?"node-visited":"WALL"===e?"node-wall":"START"===e?"node-start":"END"===e?"node-end":"WEIGHT"===e?"node-weight":"FOUND"===e?"node-found":""},F=n.a.memo((function(e){var t=e.value,a=e.cellVal,r=e.setLatestDrag,i=e.setDragging,s=e.setItemDragging,l=e.addingWall,u=e.setGrid,c=e.setGraphChange;return n.a.createElement("div",{draggable:!0,onDragStart:function(){"START"===a?(s("START"),i(!0)):"END"===a&&(s("END"),i(!0))},onDragOver:function(e){return r(e.target.getAttribute("value"))},onDragEnd:function(){i(!1)},onClick:function(){return function(){var e;if(l){u(t,e="WALL"===a?0:"WALL");var r={type:"".concat(0===e?"REMOVE_WALL":"ADD_WALL"),value:t};c(r)}else{u(t,e="WEIGHT"===a?0:"WEIGHT");var n={type:"".concat(0===e?"REMOVE_WEIGHT":"ADD_WEIGHT"),value:t};c(n)}}()},value:t,className:"node ".concat(U(a))})})),H={setStart:I,setGrid:N,setLatestDrag:M,setDragging:R,setItemDragging:G,setGraphChange:L},q=Object(o.b)((function(e){return{addingWall:e.addingWall}}),H)(F),B={setStart:I,setEnd:O,setGrid:N,clearGrid:C,setVisitPath:P,setDragging:R,setAddingWall:_,setItemDragging:G},J=Object(o.b)((function(e){return{start:e.start,end:e.end,grid:e.grid,path:e.visitPath,selectedAlgorithm:e.selectedAlgorithm,isDraggin:e.isDragging,addingWall:e.addingWall,latestDrag:e.latestDrag,itemDragging:e.itemDragging,graphChange:e.graphChange}}),B)((function(e){var t=e.start,a=e.end,i=e.setStart,s=e.setEnd,l=e.grid,o=e.setGrid,d=e.clearGrid,h=e.selectedAlgorithm,g=e.isDraggin,f=e.setVisitPath,p=e.setAddingWall,v=e.addingWall,y=e.latestDrag,m=e.itemDragging,E=e.setItemDragging,A=e.graphChange,D=Object(r.useState)((function(){return j()})),b=Object(c.a)(D,2),V=b[0],w=b[1];Object(r.useRef)(l).current=l,Object(r.useEffect)((function(){o(parseInt(t),"START"),o(parseInt(a),"END")}),[t,a,V]);var S=Object(r.useState)(!1),W=Object(c.a)(S,2),x=W[0],I=W[1],O=Object(r.useRef)(x);O.current=x;var N=Object(r.useRef)(parseInt(a));N.current=parseInt(a);var T=Object(r.useRef)(parseInt(t));T.current=parseInt(t);var P=Object(r.useRef)(h);P.current=h,Object(r.useRef)(g).current=g;var C=Object(r.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e.map((function(e){return e})),n=function e(){var n;return u.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(O.current&&0!==r.length){i.next=3;break}return I(!1),i.abrupt("return");case 3:(n=r[0])===parseInt(N.current)?C(t,[],"FOUND"):(o(n,a),r=r.splice(1),setTimeout(e,1));case 5:case"end":return i.stop()}}))};n()}),[]),R=Object(r.useCallback)((function(){if(I(!O.current),O.current=!O.current,!x){var e,t=V.getVertex(parseInt(T.current)),a=V.getVertex(parseInt(N.current));switch(P.current){case 0:case 1:case 2:var r=V.getAlgo(P.current).bind(V)(t);f(r),e=function(e,t){for(var a=0,r=!1,n=[e.getValue()],i=e;!r;)!i.getPred()||a>=1e3||i.getValue()===t?r=!0:(a++,i=i.getPred(),n.push(i.getValue()));return n.reverse()}(a,parseInt(T.current)),C(r,e);break;case 3:var n=V.getAlgo(P.current).bind(V)(t,a);f(n[1]),C(n[1],n[0]);default:return}}}),[V]),_=function(){l.map((function(e,r){0!==e&&(r===t||r===a||"WALL"===l[r]||"WEIGHT"===l[r]||o(r,0))}))};return Object(r.useEffect)((function(){y&&!g&&("START"===m?(i(y),_(),E(null)):"END"===m&&(s(y),_(),E(null)))}),[y,g]),Object(r.useEffect)((function(){var e=A.value;switch(A.type){case"ADD_WALL":V.removeVertex(e);break;case"REMOVE_WALL":V.addVertex(e),function(e,t){t>46&&e.getVertex(t-46)&&e.addEdge(t,t-46),(t+1)%46!==0&&e.getVertex(t+1)&&e.addEdge(t,t+1),t+46<=506&&e.getVertex(t+46)&&e.addEdge(t,t+46),t%46!==0&&e.getVertex(t-1)&&e.addEdge(t,t-1)}(V,e);break;case"ADD_WEIGHT":k(V,e,10);break;case"REMOVE_WEIGHT":k(V,e,1)}}),[A]),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"grid"},l.map((function(e,t){return n.a.createElement(q,{value:t,cellVal:e,key:t})}))),n.a.createElement("div",null),n.a.createElement("div",{className:"buttons"},n.a.createElement("button",{className:"button",onClick:function(){return R()}},x?"STOP":"START"),n.a.createElement("button",{className:"button",onClick:function(){return function(){var e=j();w(e),d()}()}},"Clear All"),n.a.createElement("button",{className:"button",onClick:function(){return p(!v)}},v?"Adding Wall":"Adding weight")))})),K={setSelected:T},X=Object(o.b)((function(e){return{selected:e.selectedAlgorithm}}),K)((function(e){var t=e.setSelected;return n.a.createElement("div",{className:"header"},n.a.createElement("div",{className:"logo"},"Pathfinder visualizer"),n.a.createElement("span",{className:"select-name"},"Selected algorithm:"),n.a.createElement("select",{defaultValue:2,className:"select",onChange:function(e){return function(e){t(parseInt(e.target.value))}(e)},name:"",id:""},n.a.createElement("option",{value:0},"BFS"),n.a.createElement("option",{value:1},"DFS"),n.a.createElement("option",{value:2},"Dijkstra"),n.a.createElement("option",{value:3},"A*")))})),Y=["Breadth first search","Depth first search","Dijkstra","A*"],Q=Object(o.b)((function(e){return{selected:e.selectedAlgorithm,addingWall:e.addingWall}}),null)((function(e){var t=e.selected,a=e.addingWall;return n.a.createElement("div",{className:"algo-info"},n.a.createElement("p",{className:"info-text"},"You have selected the ",Y[t]," algorithm. ",n.a.createElement("br",null),function(e){switch(e){case 0:return"BFS gives us the shortest path for an unweighted undirected graph, it is used as a traversal graph algorithm.";case 1:return"DFS does NOT give us the shortest path, it is used as a traversal graph algorithm";case 2:return"Dijkstra gives us the shortest path for weighted undirected or directed graphs. It is the most common shortest path algorithm";case 3:return"A* is a variation of the informed search graphs. It uses an heuristic to get the shortest path faster."}}(t),". ",n.a.createElement("br",null),"You are currently ",a?" adding wall":" adding weight"," (press to any cell in the grid to add a ",a?" wall":" weight",").",a?" Walls are impassable.":" Passing through a weight costs 10 times more than passing through a blank cell.",n.a.createElement("br",null),"Drag and drop either the green cell (start) or the orange one (end) to change the path."),n.a.createElement("div",{className:"legend"},n.a.createElement("p",null,n.a.createElement("span",{className:"legend-color legend-color__start"})," ",n.a.createElement("span",null,"Start")),n.a.createElement("p",null,n.a.createElement("span",{className:"legend-color legend-color__end"})," ",n.a.createElement("span",null,"End")),n.a.createElement("p",null,n.a.createElement("span",{className:"legend-color legend-color__wall"})," ",n.a.createElement("span",null,"Wall")),n.a.createElement("p",null,n.a.createElement("span",{className:"legend-color legend-color__weight"})," ",n.a.createElement("span",null,"Weight")),n.a.createElement("p",null,n.a.createElement("span",{className:"legend-color legend-color__visited"})," ",n.a.createElement("span",null,"Visited cell")),n.a.createElement("p",null,n.a.createElement("span",{className:"legend-color legend-color__found"})," ",n.a.createElement("span",null,"Shortest path cell"))))}));var Z=function(){return n.a.createElement("div",{className:"app"},n.a.createElement(X,null),n.a.createElement(Q,null),n.a.createElement(J,null))},$=Object(V.a)({reducer:z});s.a.render(n.a.createElement(o.a,{store:$},n.a.createElement(Z,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.d07e5126.chunk.js.map